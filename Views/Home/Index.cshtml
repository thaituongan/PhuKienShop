@{
    ViewData["Title"] = "Home Page";
}
<div class="section">
    <!-- container -->
    <div class="container">
        <!-- SECTION -->
        <div class="section">
            <!-- container -->
            <div class="container">
                <!-- row -->
                <div class="row">
                    <!-- shop -->
                    <div class="col-md-4 col-xs-6">
                        <div class="shop">
                            <div class="shop-img">
                                <img src="./img/shop1.png" alt="">
                            </div>
                            <div class="shop-body">
                                <h3>Adapter<br>Cáp Sạc<br></h3>
                                <a href="#" class="cta-btn">Khám Phá <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <!-- /shop -->
                    <!-- shop -->
                    <div class="col-md-4 col-xs-6">
                        <div class="shop">
                            <div class="shop-img">
                                <img src="./img/shop2.png" alt="">
                            </div>
                            <div class="shop-body">
                                <h3>Tai Nghe<br></h3>
                                <a href="#" class="cta-btn">Khám Phá <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <!-- /shop -->
                    <!-- shop -->
                    <div class="col-md-4 col-xs-6">
                        <div class="shop">
                            <div class="shop-img">
                                <img src="./img/shop3.png" alt="">
                            </div>
                            <div class="shop-body">
                                <h3>Ốp Lưng<br></h3>
                                <a href="#" class="cta-btn">Khám Phá <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>
                    </div>
                    <!-- /shop -->
                </div>
                <!-- /row -->
            </div>
            <!-- /container -->
        </div>
        <!-- /SECTION -->
        <!-- row -->
        <div class="row">
            <!-- section title -->
            <div class="col-md-12">
                <div class="section-title">
                    <h3 class="title">Sản Phẩm Mới</h3>
                    @await Component.InvokeAsync("CategoryTab")
                </div>
            </div>
            <!-- Products tab & slick -->
            <div class="col-md-12">
                <div class="row">
                    @await Component.InvokeAsync("ListProducts")
                </div>
            </div>
            <!-- Products tab & slick -->
        </div>
        <!-- /row -->
    </div>
    <!-- /container -->
</div>
<!-- /SECTION -->
<!-- HOT DEAL SECTION -->
<div id="hot-deal" class="section">
    <!-- container -->
    <div class="container">
        <!-- row -->
        <div class="row">
            <div class="col-md-12">
                <div class="hot-deal">
                    <ul class="hot-deal-countdown">
                        <li>
                            <div>
                                <h3 id="days"></h3>
                                <span>Days</span>
                            </div>
                        </li>
                        <li>
                            <div>
                                <h3 id="hours"></h3>
                                <span>Hours</span>
                            </div>
                        </li>
                        <li>
                            <div>
                                <h3 id="minutes"></h3>
                                <span>Mins</span>
                            </div>
                        </li>
                        <li>
                            <div>
                                <h3 id="seconds"></h3>
                                <span>Secs</span>
                            </div>
                        </li>
                    </ul>
                    <h2 class="text-uppercase">hot deal siêu hời</h2>
                    <p>Giảm giá đến 40%</p>
                    <a class="primary-btn cta-btn" href="#">Mua ngay</a>
                </div>
            </div>
        </div>
        <!-- /row -->
    </div>
    <!-- /container -->
</div>
	<!-- /HOT DEAL SECTION -->
	<div class="section">
		<!-- container -->
		<div class="container">

			<!-- SECTION -->
			<div class="section">
				<!-- container -->
				<div class="container">

					<!-- /row -->
				</div>
				<!-- /container -->
			</div>
			<!-- /SECTION -->
			<!-- row -->
			<div class="row">
				<!-- section title -->
				<div class="col-md-12">
					<div class="section-title">
						<h3 class="title">Sản Phẩm Khuyến Mãi</h3>
						@await Component.InvokeAsync("CategoryTab")
					</div>
				</div>

				<!-- Products tab & slick-->
				<div class="col-md-12">
					<div class="row">
						@await Component.InvokeAsync("ListSales")
					</div>
				</div>
				<!--	Products tab & slick -->
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</div>
@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Fetch the deal end time from the ViewBag
            var dealEndTime = new Date('@ViewBag.DealEndTime');
            console.log("Deal End Time: ", dealEndTime); // Log the date for debugging

            // Function to update the countdown every second
            var countdownFunction = setInterval(function () {
                var now = new Date().getTime();
                var distance = dealEndTime - now;

                // If the countdown is over, stop the timer and set all values to 00
                if (distance < 0) {
                    clearInterval(countdownFunction);
                    document.getElementById("days").textContent = "00";
                    document.getElementById("hours").textContent = "00";
                    document.getElementById("minutes").textContent = "00";
                    document.getElementById("seconds").textContent = "00";
                } else {
                    // Calculate the remaining time
                    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    // Update the countdown display
                    document.getElementById("days").textContent = days;
                    document.getElementById("hours").textContent = hours;
                    document.getElementById("minutes").textContent = minutes;
                    document.getElementById("seconds").textContent = seconds;
                }
            }, 1000); // Update the countdown every 1 second
        });
    </script>
}

